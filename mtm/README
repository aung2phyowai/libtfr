
README

This file briefly describes the contents of this directory, and tells
you how to install the SSA Toolkit.


Contents of this directory
	Makefile -- Rules for the 'make' utility to build the toolkit
	README -- This file
	*.tcl, *.TCL -- Source code for the graphical user interface.
	src  -- Directory containing source code for the C/FORTRAN programs 
		that actually perform the numerical analysis.
	doc -- A directory of PostScript and plain text files containing
		the user's guide and various notes for using the toolkit.
	man -- UNIX Man pages for the GUI and the programs that perform
		the analysis.


	WHERE TO WRITE FOR MORE INFORMATION.  

Send your questions to ssahelp@atmos.ucla.edu.  We will get back to you as
soon as possible.

If you want to receive notices about patches and new versions of the Toolkit,
send your e-mail address to dkondras@atmos.ucla.edu, and you will be included
in the ssahelp mailing list. 

We also maintain pages on the World-Wide Web with links to all the software
and to FAQ sheets.  The URL is 

	http://www.atmos.ucla.edu/tcd/ssa/       .


	HOW TO INSTALL THE SSA TOOLKIT

The steps are.
	0) Install Tcl/Tk
	1) Edit the Makefile
	2) Type 'make install'


0) Install Tcl/Tk 
Check whether you have Tcl/Tk and its windowing shell on your system.
To do this, Type `wish'.  A 5 cm. square window should appear.
If you are sure that you do not have them, then you will
need to install them before you can can run the graphical user interface
for spectra.  These are available by anonymous ftp from
ftp.smli.com in the directory /pub/tcl/.  Get the files named
tcl7.6.tar.Z and tk4.2.tar.Z.  Make Tcl first, then Tk.  The instructions 
for each are straightforward and very simple.

                          W A R N I N G 
  The graphical user interface is intended for compatibility with
versions 3 and 4 of Tk, but works better with version 4.  To check
your version of Tk, follow this example:

	uniblab development 96: wish
	% set tk_version
	3.3                             <<< this is the version number
	% exit

1) Edit the Makefile
To build the Toolkit, first edit the file called `Makefile'.
Near the top, there are some variables which you might
need to change.  These are mostly the names of directories
where you will place wish, the toolkit, the documentation, et cetera.


2) Type 'make install'
If you have write permission to the directories where you will install
the software, then type 'make install'.  Make will preprocess and
compile everything and then move them to your destination path.

If you want to build the software, but won't do the final installation,
you can type `make all', and make will produce everything.  Your system
manager can perform the 'make install' later, but you will probably
have trouble testing the tools before then.

The hypertext manual pages will also be installed automatically in
the directory specified in the makefile by MAN_PATH.

The toolkit is now available for your use.  Just type 'spectra' and see
what happens.


		Configuring the Toolkit

Picking your graphic display program.  

  The SSA Toolkit does no plotting itself, but uses "hooks" to other
plotting programs.  Ultimately, we concentrated on a package called
ACE/gr.  This program comes in two flavors, and may already be on your
system under the name "xmgr".  If you are on a Sun, it may be called
"xvgr".  If neither is available on your system, you can get them from
ftp.teleport.com in directory /pub/users/pturner/acegr/.
  The Toolkit is set to use xmgr by default.  If you want to change
the default to xvgr, open the file .spectra.TCL, and change the 
"set XGRAPH" command.
 	 If you want to hook to a different graphics package, open the
file .spectra and change the "set viz" command.  We have experimented
with IDL and Gnuplot.  The hooks are actually included here, although
they were only experimental and we haven't upgraded them since version
1 of the Toolkit.


		Troubleshooting.

Here are some initial problems you might encounter, and what to do about
them.  

- system reports `spectra: Command not found'.

The most likely reason for this is that m4, the macro processor,
did not alter the macros in the .TCL source code.  You want to use
the System V version of m4.  For SunOS, open the Makefile and change

M4=m4

to

M4=/usr/5bin/m4 

If that does not work, consider the following:

Type `which spectra'.  If which does not find it, then check the variable
PATH to see if it includes the BIN_PATH listed in the makefile.

If which finds spectra, then the message probably means that the system
cannot find wish.  Type `which wish' and compare the result to the value
of WISH in the makefile.

- You try to plot data and the system reports `Cannot find xmgr to execute'.

Xmgr is not in your path.
If it is not available on your system, you can get it from
ftp.ccalmr.ogi.edu in directory CCALMR/pub/acegr.
If you are on a Sun, you may want to use xvgr instead of xmgr.  
Open .spectra.TCL, change the line `set XGRAPH xmgr' to `set XGRAPH xvgr' 
and redo the installation.

- Tools just won't work.

The FORTRAN programs spectrum, ssa, and carlo consume a large amount
of memory.  On some workstations, they can fail, producing messages
such as 'Segment violation'.  The graphical user interface may respond
with a mysterious message, such as 'awk: cannot open fft.out'.
The best way to tell if a tool is not working is to check the Log.
To do that, just press the "Show Log" button.  Or, try to run the tool as
a stand-alone UNIX command.  

The worst offender in this area is Carlo.  Carlo allocates some very
large 2D arrays, but much of the space is probably never used.  You
can save a lot of memory, for example, by reducing the parameter nmcmax
from 10000 to 1000, or even to 300.


		Notes on installing Tcl/Tk

If you are copying the wish binaries from our FTP server, we recommend
that you install them the following way

	cp wish /usr/local/bin/wish
	cp libtcl.a libtk.a /usr/local/lib 

If you cannot, wish will still work, but it will first ask you to set
the environment variables TCLDIR and TKDIR.

If you are making Tcl/Tk, you may need to set some of these variables. 
They are all in the Makefiles, and are shown here with their defaults.

	exec_prefix=	/usr/local
	prefix=		/usr/local

# To turn off the security checks that disallow incoming sends when
# the X server appears to be insecure, reverse the comments on the
# following lines:
SECURITY_FLAGS =
#SECURITY_FLAGS = -DTK_NO_SECURITY

change to
#SECURITY_FLAGS =
SECURITY_FLAGS = -DTK_NO_SECURITY

$Date: 1997/01/31 16:45:33 $
